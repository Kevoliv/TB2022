<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hand Tracking! • A-Frame</title>
    <meta name="description" content="Hand Tracking! • A-Frame" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;900&display=swap" rel="stylesheet">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    
    <script src="https://unpkg.com/aframe-layout-component@4.3.1/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://rawgit.com/Utopiah/aframe-triggerbox-component/master/aframe-triggerbox-component.js"></script>
    
    <script src="https://unpkg.com/aframe-aabb-collider-component@^3.2.0/dist/aframe-aabb-collider-component.min.js"></script>
    
    

    <script src="info-message.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
    <script src="pinchable.js"></script>
    <script src="rounded-component.js"></script>
    <script src="color-change.js"></script>
    <script src="slider.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="size-change.js"></script>
    <script src="model-opacity.js"></script>
    <script src="button.js"></script>
    <script src="menu.js"></script>
    <script src="zoneTrigger.js"></script>
    <script src="pressable.js"></script>
    <script src="play-on-click.js"></script>
    <script src="hide-on-play.js"></script>
    
    
    
    <script>
      

      
      
      
      // Component to change to a sequential color on click. 
AFRAME.registerComponent('arrowon', {
  init: function () {
     
    this.el.addEventListener('fusing', function (evt) {
      var el;
         
        el = document.querySelector("#arrowVideo");
        el.setAttribute("visible",true);
     // this.setAttribute('material', 'color', 'red');
      console.log('APPEAR');
    });
    
  }
 
});
    
            // Component to change to a sequential color on click.
AFRAME.registerComponent('arrowoff', {
  init: function () {
    var lastIndex = -1;
    
    this.el.addEventListener('fusing', function (evt) {
     var el;
         
        el = document.querySelector("#arrowVideo");
        el.setAttribute("visible",false);
      //this.setAttribute('material', 'color', 'green');
      console.log('HIDE');
    });
  }
});
      
      
      
      
      AFRAME.registerComponent('event-manager-video', {

  init: function () {
    this.bindMethods();

    
    this.videoEl = document.querySelector("#videoSrc");
    this.soundClickEl = document.querySelector('#SoundClickV');
        

    this.playButtonEl = document.querySelector('#playVideo');
    iconBtn
    this.repeatButtonEl = document.querySelector('#repeatVideo');
    

    

    this.playButtonEl.addEventListener('click', this.onClick);
    
    this.repeatButtonEl.addEventListener('click', this.onClick);
    
    //this.playButtonEl.addState('pressed');
  },

  bindMethods: function () {
    this.onClick = this.onClick.bind(this);
  },

  onClick: function (evt) {
    var targetEl = evt.target;
    var iconBtn = document.querySelector('#iconBtn');
    if (targetEl === this.playButtonEl  ) {
      this.playButtonEl.removeState('pressed');
      this.soundClickEl.components.sound.playSound();
      
      if (this.videoEl.paused){
        
        console.log("PLAY");
      this.videoEl.play();
        iconBtn.setAttribute("material","src: #pauseBtn");
        
      }else{
        
        this.videoEl.pause();
        iconBtn.setAttribute("material","src: #playBtn");
      console.log("PAUSE");
        
      }
      
      
      //this.buttonToGeometry[targetEl.id].object3D.visible = true;
    }
    if (targetEl === this.pauseButtonEl ) {
      this.pauseButtonEl.removeState('pressed');
      this.soundClickEl.components.sound.playSound();
      
      this.videoEl.pause();
      console.log("PAUSE");
      //this.buttonToGeometry[targetEl.id].object3D.visible = true;
    }
    if (targetEl === this.repeatButtonEl ) {
      this.repeatButtonEl.removeState('pressed');
      this.soundClickEl.components.sound.playSound();
      
      this.videoEl.pause();
      this.videoEl.currentTime = 0;
      iconBtn.setAttribute("material","src: #playBtn");
      console.log("REPEAT");
      //this.buttonToGeometry[targetEl.id].object3D.visible = true;
    }

    
  }
});
      
     var isPlaying = true;
      
AFRAME.registerComponent('event-manager-sound', {

  init: function () {
    this.bindMethods();

    this.soundEl = document.querySelector('#Sound');
    this.soundClickEl = document.querySelector('#SoundClick');
    

    this.playButtonEl = document.querySelector('#playSound');
    this.repeatButtonEl = document.querySelector('#repeatSound');
    

   

    this.playButtonEl.addEventListener('click', this.onClick);
    this.repeatButtonEl.addEventListener('click', this.onClick);
    
    //this.playButtonEl.addState('pressed');
  },

  bindMethods: function () {
    this.onClick = this.onClick.bind(this);
  },

  onClick: function (evt) {
    var targetEl = evt.target;
    var iconBtn = document.querySelector('#iconBtnSound');
    
    
    if (targetEl === this.playButtonEl  ) {
      this.playButtonEl.removeState('pressed');
      this.soundClickEl.components.sound.playSound();
      
      if (isPlaying == false){
        
        console.log("PLAY");
      this.soundEl.components.sound.playSound();
        iconBtn.setAttribute("material","src: #pauseBtn");
        isPlaying = true;
        
      }else{
        
        this.soundEl.components.sound.pauseSound();
        iconBtn.setAttribute("material","src: #playBtn");
      console.log("PAUSE");
        isPlaying = false;
        
      }
     
      
      
      //this.buttonToGeometry[targetEl.id].object3D.visible = true;
    }
    
     if (targetEl === this.repeatButtonEl ) {
      this.repeatButtonEl.removeState('pressed');
      this.soundClickEl.components.sound.playSound();
      
      this.soundEl.components.sound.stopSound();
       iconBtn.setAttribute("material","src: #playBtn");
      console.log("REPEAT");
      //this.buttonToGeometry[targetEl.id].object3D.visible = true;
    }

    
  }
});
     
      
      
      
      
      
      
      
      
      
      
      
  AFRAME.registerComponent("poiimage", {
    multiple: true,
    init: function() {
      this.el.addEventListener("hitstart", (e) => {
        console.log(e)
        var soundOpenEl = document.querySelector('#SoundOpenI');
        soundOpenEl.components.sound.playSound();
        var el;
        
        el = document.querySelector("#pinPoiVideo");
        el.emit(`enterpin`, null, false);
        
        el = document.querySelector("#pinPoiSound");
        el.emit(`enterpin`, null, false);
        
         
        el = document.querySelector("#pinPoiImage");
        el.emit(`enterpin`, null, false);
       // el.setAttribute("false",true);
        
        el = document.querySelector("#VideoZone");
        el.emit(`entercolor`, null, false);
        el = document.querySelector("#SoundZone");
        el.emit(`entercolor`, null, false);
        
        el = document.querySelector("#imageP1E0");
        el.emit(`enterp1e0`, null, false);
        el.setAttribute("visible",true);
        
        el = document.querySelector("#titleImage");
        el.emit(`entertext`, null, false);
        el.setAttribute("visible",true);
        
        el = document.querySelector("#description0");
        el.emit(`entertext`, null, false);
        el.setAttribute("visible",true);
        
        el = document.querySelector("#imageP1E1");
        el.emit(`enterp1e1`, null, false);
        el.setAttribute("visible",true);
        
        
        el = document.querySelector("#description1");
        el.emit(`entertext`, null, false);
        el.setAttribute("visible",true);
        
        el = document.querySelector("#imageP1E2");
        el.emit(`enterp1e2`, null, false);
        el.setAttribute("visible",true);
        
        el = document.querySelector("#description2");
        el.emit(`entertext`, null, false);
        el.setAttribute("visible",true);
        
        
        el = document.querySelector("#imageP1E3");
        el.emit(`enterp1e3`, null, false);
        el.setAttribute("visible",true);
        
        el = document.querySelector("#description3");
        el.emit(`entertext`, null, false);
        el.setAttribute("visible",true);

        
      })
      this.el.addEventListener("hitend", (e) => {
        console.log("EXIT")
        
        var soundOpenEl = document.querySelector('#SoundCloseI');
        soundOpenEl.components.sound.playSound();
        
        var el;
        
        el = document.querySelector("#pinPoiVideo");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#pinPoiSound");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#VideoZone");
        el.emit(`exitcolor`, null, false);
        el = document.querySelector("#SoundZone");
        el.emit(`exitcolor`, null, false);
       /*  
        el = document.querySelector("#imageP1E0");
        el.emit(`exitp1e0`, null, false);
       // setTimeout(function() {
          el.setAttribute("visible",false);
         // console.log("HEYYY");
         // }, 200);
        
        
        el = document.querySelector("#imageP1E1");
        el.emit(`exitp1e1`, null, false);
        el.setAttribute("visible",false);
        
        el = document.querySelector("#imageP1E2");
        el.emit(`exitp1e2`, null, false);
        el.setAttribute("visible",false);
        
        el = document.querySelector("#videoYoutube");
        el.emit(`exitp1e3`, null, false);
        el.setAttribute("visible",false);*/

            //el.setAttribute("visible",false);
        
        el = document.querySelector("#pinPoiImage");
        el.emit(`exitpin`, null, false);
       // el.setAttribute("true",true);
        
        el = document.querySelector("#imageP1E0");
        el.emit(`exitp1e0`, null, false);
        
        el = document.querySelector("#titleImage");
        el.emit(`exitext`, null, false);
        el.setAttribute("visible",false);
        
        el = document.querySelector("#description0");
        el.emit(`exitext`, null, false);
        el.setAttribute("visible",false);
        
        el = document.querySelector("#imageP1E1");
        el.emit(`exitp1e1`, null, false);
        
        el = document.querySelector("#description1");
        el.emit(`exitext`, null, false);
        el.setAttribute("visible",false);
        
        el = document.querySelector("#imageP1E2");
        el.emit(`exitp1e2`, null, false);
        
        el = document.querySelector("#description2");
        el.emit(`exitext`, null, false);
        el.setAttribute("visible",false);
        
        el = document.querySelector("#imageP1E3");
        el.emit(`exitp1e3`, null, false);
        
        el = document.querySelector("#description3");
        el.emit(`exitext`, null, false);
        el.setAttribute("visible",false);
        
        
        
        
      })
    }
  })
      
      
       AFRAME.registerComponent("poivideo", {
         multiple: true,
    init: function() {
      this.el.addEventListener("hitstart", (e) => {
        console.log(e)
        
        var soundOpenEl = document.querySelector('#SoundOpenV');
        soundOpenEl.components.sound.playSound();
        
        var el;
        
        var videoEl = document.querySelector("#videoSrc");
        videoEl.play();
        var iconBtn = document.querySelector('#iconBtn');
        iconBtn.setAttribute("material","src: #pauseBtn");
        
        el = document.querySelector("#pinPoiImage");
        el.emit(`enterpin`, null, false);
        
        el = document.querySelector("#pinPoiSound");
        el.emit(`enterpin`, null, false);
        
        el = document.querySelector("#ImageZone");
        el.emit(`entercolor`, null, false);
        el = document.querySelector("#SoundZone");
        el.emit(`entercolor`, null, false);
        
        el = document.querySelector("#menu-video");
        el.setAttribute("visible",true);
        
        /*el = document.querySelector("#Pin3D");
        el.emit(`enterpin2`, null, false);*/
        el = document.querySelector("#pinPoiVideo");
        el.emit(`enterpin`, null, false);
        
        el = document.querySelector("#videoCurv");
        el.emit(`enterp2e0`, null, false);
        el.setAttribute("visible",true);
        el = document.querySelector("#arrowVideo");
        el.setAttribute("visible",true);
        
        el = document.querySelector(".Title");
        el.emit(`entertext`, null, false);
        
        
        el = document.querySelector(".description");
        el.emit(`entertext`, null, false);
          
        el = document.querySelector(".ArrowON");
        el.setAttribute('position', { x: -0.290, y: 1.4, z: -1.0 });
        el = document.querySelector(".ArrowOFF");
        el.setAttribute('position', { x: -0.64037, y: 2.02786, z: -1.43372 });

           // el.setAttribute("visible",true);
      })
      this.el.addEventListener("hitend", (e) => {
        console.log("EXIT")
        
        var soundOpenEl = document.querySelector('#SoundCloseV');
        soundOpenEl.components.sound.playSound();
        
        var iconBtn = document.querySelector('#iconBtn');
        iconBtn.setAttribute("material","src: #playBtn");
        
        var el;
        
        el = document.querySelector("#pinPoiImage");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#pinPoiSound");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#ImageZone");
        el.emit(`exitcolor`, null, false);
        el = document.querySelector("#SoundZone");
        el.emit(`exitcolor`, null, false);
        
        var videoEl = document.querySelector("#videoSrc");
        videoEl.pause();
        videoEl.currentTime = 0;
        
         el = document.querySelector("#menu-video");
        el.setAttribute("visible",false);
        
        
        /*el = document.querySelector("#Pin3D");
        el.emit(`exitpin2`, null, false);*/
        el = document.querySelector("#pinPoiVideo");
        el.emit(`exitpin`, null, false);
       // el.setAttribute("true",true);
        
        el = document.querySelector("#arrowVideo");
        el.setAttribute("visible",false);
        
        el = document.querySelector("#videoCurv");
        el.emit(`exitp2e0`, null, false);
        
        el = document.querySelector(".Title");
        el.emit(`exitext`, null, false);
        
        el = document.querySelector(".description");
        el.emit(`exitext`, null, false);
        
        el = document.querySelector(".ArrowON");
        el.setAttribute('position', { x: 1, y: -200000, z: 3000 });
        el = document.querySelector(".ArrowOFF");
        el.setAttribute('position', { x: 1, y: -200000, z: 3000 });
        
        
            //el.setAttribute("visible",false);
      })
    }
  })
      
      
      
      AFRAME.registerComponent("poisound", {
        multiple: true,
    init: function() {
      this.el.addEventListener("hitstart", (e) => {
        console.log(e)
        
        var soundOpenEl = document.querySelector('#SoundOpenS');
        soundOpenEl.components.sound.playSound();
        
        var soundEl = document.querySelector("#Sound");
        soundEl.components.sound.playSound();
        var iconBtn = document.querySelector('#iconBtnSound');
        iconBtn.setAttribute("material","src: #pauseBtn");
        
        var el;
        
        el = document.querySelector("#titleSound");
        el.emit(`entertext`, null, false);
        el.setAttribute("visible",true);
         
        el = document.querySelector("#ImageZone");
        el.emit(`entercolor`, null, false);
        el = document.querySelector("#VideoZone");
        el.emit(`entercolor`, null, false);
        
        
        el = document.querySelector("#menu-sound");
        el.setAttribute("visible",true);
        
        el = document.querySelector("#pinPoiVideo");
        el.emit(`enterpin`, null, false);
        
        el = document.querySelector("#pinPoiImage");
        el.emit(`enterpin`, null, false);
        
        el = document.querySelector("#pinPoiSound");
        el.emit(`enterpin`, null, false);
       /*  el = document.querySelector(".test3");
        el.emit(`test3`, null, false);
        
       el = document.querySelector("#imageP2E1");
        el.emit(`enterp2e1`, null, false);
        
        el = document.querySelector("#imageP2E2");
        el.emit(`enterp2e2`, null, false);
        
        el = document.querySelector("#imageP2E3");
        el.emit(`enterp2e3`, null, false);*/

           // el.setAttribute("visible",true);
      })
      this.el.addEventListener("hitend", (e) => {
        console.log("EXIT")
        
        var soundOpenEl = document.querySelector('#SoundCloseS');
        soundOpenEl.components.sound.playSound();
        
        var soundEl = document.querySelector("#Sound");
        soundEl.components.sound.stopSound();
        var iconBtn = document.querySelector('#iconBtnSound');
        iconBtn.setAttribute("material","src: #pauseBtn");
        
        var el;
        
        el = document.querySelector("#titleSound");
        el.emit(`exitext`, null, false);
        el.setAttribute("visible",false);
         
        el = document.querySelector("#menu-sound");
        el.setAttribute("visible",false);
        
        el = document.querySelector("#pinPoiVideo");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#pinPoiImage");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#pinPoiSound");
        el.emit(`exitpin`, null, false);
        
        el = document.querySelector("#VideoZone");
        el.emit(`exitcolor`, null, false);
        el = document.querySelector("#ImageZone");
        el.emit(`exitcolor`, null, false);
        /*el = document.querySelector("#imageP2E0");
        el.emit(`exitp2e0`, null, false);
        
        el = document.querySelector("#imageP2E1");
        el.emit(`exitp2e1`, null, false);
        
        el = document.querySelector("#imageP2E2");
        el.emit(`exitp2e2`, null, false);
        
        el = document.querySelector("#imageP2E3");
        el.emit(`exitp2e3`, null, false);
        
        
*/
            //el.setAttribute("visible",false);
      })
    }
  })

</script>
    
  </head>
  <body>
    
    
    <a-scene  enabled="true" debug="true"
             vr-mode-ui=" enterARButton: #EnterARButton; enterVRButton: #EnterVRButton;">
      <div id="intro" >
        <h1>
          BiodivAR
        </h1>
        <p id="textIntro">
          Bienvenue dans l’expérience BiodivAR.<br> En vous approchant des hologrammes que vous voyez, vous découvrirez des explications sur trois concepts liés à la biodiversité. Vous pouvez interagir avec certains d’entre eux avec vos doigts. <br><br>N’hésitez pas à faire des commentaires à voix haute sur ce que vous ressentirez pendant cette expérience.
        </p>
        <a id="EnterARButton" class="a-hidden" href="#"><p>Démarrer l'expérience AR</p></a>
        <a id="EnterVRButton" class="a-hidden" href="#"></a>
      </div>
      
      <a-assets>
        
        <a-asset-item
          id="holocircle2"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/scene.gltf?v=1655714168184"
        ></a-asset-item>
        
        <a-mixin
          id="btn"
          geometry="primitive: plane; height: 0.05; width: 0.05"
          material="shader: flat; alphaTest: 0.5 side: double; transparent: true;  "
        ></a-mixin>
        
         <img
          id="playBtn"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/PlayButton.png?v=1657542151955"
          crossorigin="anonymous"/>
        <img
          id="repeatBtn"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/repeatButton.png?v=1657540907184"
          crossorigin="anonymous"/>
        <img
          id="pauseBtn"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/pauseButton.png?v=1657540907183"
          crossorigin="anonymous"/>
        
        
        <a-asset-item
          id="arrow"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Arrow_FBXImport_GLTFExport_Perso.gltf?v=1656936417596"
        ></a-asset-item>

        <a-asset-item
          id="1pin3D"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/symbol-2-150x125.gltf?v=1656494435069"
        ></a-asset-item>
        
        
        
        
        <a-mixin
          id="Pin"
          geometry="primitive: plane; height: 2.0; width: 1.0"
          material="shader: flat; alphaTest: 0.5 side: double; transparent: true;  "
          look-at="[camera]"
        ></a-mixin>
        <img
          id="pinImage"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/symbol.png?v=1656495301859"
        />
        
         <video id="videoSrc" preload="auto" crossorigin="anonymous"  loop="true" src="https://cdn.glitch.me/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/biodiversite-temple_1.mp4?v=1657198438444"></video>
        
        
        <audio id="water" crossorigin="anonymous" src="https://cdn.glitch.me/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/biodiversite-machine-temps.wav?v=1657532554784" preload="auto"></audio>
        <audio id="clickBtn" crossorigin="anonymous" src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/clickButton.wav?v=1657628496724" preload="auto"></audio>
        <audio id="soundOpen" crossorigin="anonymous" src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Open.wav?v=1657633055012" preload="auto"></audio>
        <audio id="soundClose" crossorigin="anonymous" src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Close.wav?v=1657633057255" preload="auto"></audio>
        <a-mixin
          id="image"
          geometry="primitive: plane; height: 1.0; width: 1.0"
          material="shader: flat; alphaTest: 0.5; transparent: true;  "
          look-at="[camera]"
        ></a-mixin>
        <img
          id="olivier0"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/img-1.jpg?v=1657803371891"
        />
        <img
          id="olivier1"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/img-2.jpg?v=1657803371937"
        />
        <img
          id="olivier2"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/img-3.jpg?v=1657803371796"
        />
        <img
          id="olivier3"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/img-4.jpg?v=1657803371780"
        />
        
        <a-mixin
          id="imageCurved"
          geometry="primitive: cylinder; openEnded: true; thetaLength: -50; radius: 2;"
          material="shader: flat; alphaTest: 0.5 transparent: true;  "
          
        ></a-mixin>
        
       

        <img
          id="olivier0C"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/olivier0.jpg?v=1655718469685"
        />
        <img
          id="olivier1C"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/olivier1.jpg?v=1655718468540"
        />
        <img
          id="olivier2C"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/olivier2.jpg?v=1655718468677"
        />
        <img
          id="olivier3C"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/olivier3.jpg?v=1655718469142"
        />
      </a-assets>

       <a-entity position="0 0 0" class="hitbox"   >
        <a-entity
          position="0 1.7 0"
           look-controls="enabled: true; pointerLockEnabled: true;"
                  wasd-controls
          camera
          id="camera"
          
        >
            <a-entity cursor="fuse: true;"
            position="0 0 -1.0"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
            material="color: black; shader: flat"
            visible="true">
            </a-entity>
          
            <a-entity
            id="arrowVideo"
            look-at="#DirectionVideo"
            gltf-model="#arrow"
            scale="0.005 0.005 0.005"
            rotation="0 0 -90"
            position="0 -0.05 -0.5"
            visible="false"
        
            ></a-entity>
          
          
          
            <a-entity


            
            aabb-collider="objects: .zone" 
            id="HitBox"
            class="hitbox"
            position="0 0.0 0.0"
            geometry="primitive: sphere; radius: 0.1;"

            material="color: blue"
            size-change
          ></a-entity>
        </a-entity>

        
         
         
         
         
         
      </a-entity>
     
      

      <a-entity
        id="movingaction"
        text="text: "
        position="-7 4 -2"
        material="color: orange"
        scale="2"
      ></a-entity>
      
      
      
       
      
      <a-box position="0 0.1 0" height="0.1" width="0.1" depth="0.1" >
      </a-box>

      
<!-- HOLO------------------------- -->
      

      
      <!-- POI Image gltf-model="#holocircle"  ----------------- -->
      <a-entity id="Poi-Image" position="1.6 0.1 -3.2"  >
        
        <a-entity id="ImageZone" rotation="90 0 0"
                  position="0 -0.09 0" geometry="primitive: ring; radiusInner: 0.9; radiusOuter: 1"
          material="side: double; color: #E3E3E3;"
                  
                  
                  animation__entercolor="property: components.material.material.color; type: color; to: #282828; startEvents: entercolor; dur: 500" 
                 animation__exitcolor="property: components.material.material.color; type: color; to: #E3E3E3; startEvents: exitcolor; dur: 500"
          ></a-entity>
        
        <a-entity
          
          id="holotest1"
          poiimage
          class="zone"
          
          
          
          rotation="0 0 0"
          geometry=" color: red; primitive: cylinder; height: 3; radius: 0.8 "
                  material="opacity: 0.0; alpha-test: 0.5;"
         visible="true"
        >
          
        
          <a-entity id="SoundOpenI" sound="src: #soundOpen; autoplay: false; volume: 0.1;"></a-entity>
          <a-entity id="SoundCloseI" sound="src: #soundClose; autoplay: false; volume: 0.1;"></a-entity>
          
        </a-entity>
        <a-entity
                  id="pinPoiImage"
         mixin="Pin"
        material="transparent: true; opacity: 1.0;  src: #pinImage;"
        position="0 1.1 0"
        
        scale="3 3 3"  
         
         animation__enterpin="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: enterpin; dur: 300;"
         animation__exitpin="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: exitpin; dur: 800;"></a-entity>
        
        

        
        
       
        
        
        
        
        
        
        <a-entity
          id="Gpoi1"
          
             
          
          position="0 1.4 -0.5"
          layout="type: circle; angle: 40; radius: 1.7 "
          rotation="-90 20 0"
                  
          
        >
          <a-entity visible="false" class="pImage" id="imageP1E0" mixin="image" material="transparent: true; opacity: 0.0;  src: #olivier3; "
          animation__enterp1e0="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: enterp1e0; dur: 800;"
          animation__exitp1e0="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: exitp1e0; dur: 200;">
          <a-entity id="description3" position="0 -0.55 0" 
                 font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909" 
                 font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475" 
                 text="wrapCount: 40; opacity: 0.0; width: 1.0; value: De plus, puisque tous les individus sont similaires, ils ne répondent pas aux besoins en habitat de la faune, qui a besoin d'arbres morts, de clairières, etc. Cette raréfaction des habitats provoque une perte de la biodiversité.  ; anchor: center; baseline: top; height: 1.83; side: double; tabSize: 5.29; font: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909; fontImage: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475; negate: false" 
                 visible="false" alpha-test="0.5" width="1.0" height="1" transparent="true" opacity="0.0" material="alphaTest: 0.5"
                 animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800" 
                 animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200"></a-entity>
          </a-entity>
          
          <a-entity id="imageP1E1" class="pImage" mixin="image" material="transparent: true; opacity: 0.0; src: #olivier2; " 
          animation__enterp1e1="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: enterp1e1; dur: 800;"
          animation__exitp1e1="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: exitp1e1; dur: 200;">
          <a-entity id="description2" position="0 -0.55 0" 
                 font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909" 
                 font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475" 
                 text="wrapCount: 40; opacity: 0.0; width: 1.0; value: Mais la monoculture cause un épuisement des éléments nutritifs dans le sol et une surpopulation des espèces qui s'en nourrissent (parasites, ravageurs, maladies). Les agriculteurs doivent recourir à des produits chimiques pour lutter contre ces envahisseurs, ce qui contamine les sols.  ; anchor: center; baseline: top; height: 1.83; side: double; tabSize: 5.29; font: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909; fontImage: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475; negate: false" 
                 visible="false" width="1.0" height="1" transparent="true" opacity="0.0" 
                 animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800" 
                 animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200"></a-entity>
          </a-entity>
          
          <a-entity id="imageP1E2" class="pImage" mixin="image" material="transparent: true; opacity: 0.0; src: #olivier1; " 
          animation__enterp1e2="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: enterp1e2; dur: 800;"
          animation__exitp1e2="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: exitp1e2; dur: 200;">
          <a-entity id="description1" position="0 -0.55 0" 
                 font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909" 
                 font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475" 
                 text="wrapCount: 40; opacity: 0.0; alphaTest: 0.5; width: 1.0; value: La monoculture est la pratique qui consiste à ne planter qu'une seule espèce sur une surface (comme un champ de blé). Cela permet de réduire les coûts de production et d'augmenter le rendement. ; anchor: center; baseline: top; height: 1.83; side: double; tabSize: 5.29; font: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909; fontImage: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475; negate: false" 
                 visible="false" width="1.0" height="1" transparent="true" opacity="0.0" 
                 animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800" 
                 animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200"></a-entity>
          </a-entity>
          
          <a-entity id="imageP1E3" class="pImage" mixin="image" material="transparent: true; opacity: 0.0; src: #olivier0; " 
          animation__enterp1e3="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: enterp1e3; dur: 800;"
          animation__exitp1e3="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: exitp1e3; dur: 200;">
            
            <a-text position="-0.5 0.718 0" value="La biodiversité est une ressource limitée" id="titleImage"   transparent="true" 
                opacity="1.0"
                font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Black-msdf.json?v=1656583269077" 
                font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Black.png?v=1656583271168"
                visible="false" color="White" negate="false" text=" opacity: 0.0; wrapCount: 20; width: 1.0; align: left; baseline: top; side: double; anchor: left;" scale="" 
                animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800;"
                animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200;">
</a-text>
            <a-entity id="description0" position="0 -0.55 0" 
                 font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909" 
                 font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475" 
                 text="wrapCount: 40; opacity: 0.0; width: 1.0; value: La biodiversité est une ressource limitée dont il faut faire un usage raisonné, respectueux des équilibres naturels et des rythmes de renouvellement des milieux.  ; anchor: center; baseline: top; height: 1.83; side: double; tabSize: 5.29; font: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909; fontImage: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475; negate: false" 
                 visible="false"  width="1.0" height="1" transparent="true" opacity="0.0" 
                 animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800" 
                 animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200"></a-entity>
          </a-entity>
          </a-entity>
        
        
        
        
        
        
      </a-entity>
      
      
      
       
      <!-- POI Video <a-entity play-on-click position="0 1.7 1" id="videoYoutube2" mixin="video" material="transparent: true; opacity: 1.0; src: #youtube; " 
          ></a-entity>----------------- -->
     
      <a-entity id="Poi-Video" position="-0.5 0.1 -1.5" >
        <a-entity id="menu-video" menu=""  
                  position="-0.170 1.1 -0.571" visible="false" rotation="-45 17.438 0" 
                  event-manager-video=""
                  animation__enterpin="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: enterpin; dur: 300;"
         animation__exitpin="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: exitpin; dur: 800;"
        >
          
        <a-entity id="playVideo" button=""  position="-0.06 0.0 -0.01"  pressable="">
          
          <a-entity id="iconBtn" mixin="btn" rotation="90 0 0" position="0.0 -0.011 0.0" material="src: #playBtn">
        </a-entity >
        
          </a-entity>
        
        <a-entity id="repeatVideo" button="" position="0.06 0.0 -0.01"  pressable="">
          
          <a-entity  mixin="btn" rotation="90 0 0" position="0.0 -0.011 0.0" material="src: #repeatBtn">
        </a-entity >
          
          </a-entity>
       </a-entity>
        
        <a-entity id="VideoZone" rotation="90 0 0" position="0 0 0" geometry="primitive: ring; radiusInner: 0.9; radiusOuter: 1"
          material="side: double; color: #E3E3E3;"
                  
                  animation__entercolor="property: components.material.material.color; type: color; to: #282828; startEvents: entercolor; dur: 500" 
                 animation__exitcolor="property: components.material.material.color; type: color; to: #E3E3E3; startEvents: exitcolor; dur: 500"
                  
                  >
        </a-entity>
        
         <a-entity
                  id="pinPoiVideo"
         mixin="Pin"
        material="transparent: true; opacity: 1.0;  src: #pinImage;"
        position="0 1.1 0"
        
        scale="3 3 3"  
         
         animation__enterpin="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: enterpin; dur: 300;"
         animation__exitpin="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: exitpin; dur: 800;"></a-entity>
        
        
        <a-entity
          
          id="holotestVideo"
          poivideo
          class="zone"
          
          
          material="opacity: 0.0; alpha-test: 0.5;"
          rotation="0 0 0"
          geometry=" color: red; primitive: cylinder;  height: 3; radius: 0.8 "
        >
          <a-entity id="SoundOpenV" sound="src: #soundOpen; autoplay: false; volume: 0.1"></a-entity>
          <a-entity id="SoundCloseV" sound="src: #soundClose; autoplay: false; volume: 0.1;"></a-entity>
          
          
        </a-entity>

        <a-entity rotation="0 16.431 0"  position="-0.610 1.887 -2.849">
        <a-text position="-1.493 0.2 0" value="La biodiversité est un temple sacré" id="titleVideo" class="Title" align="center" baseline="center" transparent="true" opacity="0.0"
                font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Black-msdf.json?v=1656583269077" 
                font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Black.png?v=1656583271168"
                color="White" negate="false" text="width: 3.5; align: left; baseline: top; side: double" scale="" visible=""
                animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800;"
                animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200;">
</a-text>
          
        
        
          
       <a-entity
                 
                 font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909" 
                 font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475" 
                 text="wrapCount: 40; width: 2.0; value: ..pour la protéger, il ne faut pas y pénétrer.; anchor: left; baseline: top; height: 1.83; side: double; tabSize: 5.29; font: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular-msdf.json?v=1656584427909; fontImage: https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Regular.png?v=1656584430475; negate: false; opacity: 0"
                 position="-1.042 -1.449 0"  height="1" transparent="true" 
                 opacity="0.0" class="description" 
                 animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800" animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200"></a-entity>
       
          
        </a-entity>
        
          <a-curvedimage  material="transparent: true; opacity: 0.0; src: #videoSrc; " id="videoCurv" 
                         class="pVideo"  height="1.8" radius="4.0" theta-length="50" position="0 1.2 0"
          rotation="0 170 0" scale="0.8 0.8 0.8"
          animation__enterp2e0="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: enterp2e0; dur: 800;"
          animation__exitp2e0="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: exitp2e0; dur: 200;"></a-curvedimage>
        
         
        <a-entity id="DirectionVideo" position="-1.92378 1.39885 -3.67469" 
                  rotation="0.40851890792827694 -150.3567305138209 0.07964113352318443" 
                  geometry="primitive: plane; height: 3; width: 8" material="side: double"
                  cursor-listener
                  visible="false"
                  >
        </a-entity>
        
        <a-entity id="SoundClickV" sound="src: #clickBtn; autoplay: false;"></a-entity>
        
        
        <a-entity class="ArrowOFF" position="1 -200000 3000" 
                  rotation="0.40851890792827694 30.9758172781577 0.07964113352318443" 
                  geometry="primitive: plane; height: 5.95; width: 8" material="side: double; color: red; transparent: true;" visible="false" arrowoff>
        </a-entity>
        <a-entity class="ArrowON" position="1 -200000 3000" rotation="0.40851890792827694 -19.144238808706195 0.07964113352318443" 
                  geometry="primitive: sphere; radius: 2.9"
          material="side: double; transparent: true;" visible="false" arrowon>
        </a-entity>
        
      </a-entity>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <!-- POI Sound ----------------- -->
      <a-entity id="Poi-Sound" position="4.5 0.1 -5.3" >
        
        
        <a-text position="-2.143 1.671 -2.257" rotation="0 20.887 0" value="La biodiversité est un temple sacré" id="titleSound"  
                align="center" baseline="center" transparent="true" opacity="0.0"
                font="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Black-msdf.json?v=1656583269077" 
                font-image="https://cdn.glitch.global/c5c1461e-d6f0-4cbf-9a32-f71c6e04a5ac/Poppins-Black.png?v=1656583271168"
                color="White" negate="false" text="width: 3.5; align: left; baseline: top; side: double" scale="" visible=""
                animation__entertext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 0; to: 1; startEvents: entertext; dur: 800;"
                animation__exitext="property: components.text.material.uniforms.opacity.value; type: opacity; from: 1; to: 0; startEvents: exitext; dur: 200;"></a-text>
        
        
        
        
        <a-entity id="menu-sound" menu=""  position="-0.25635 1.1 -0.5433" visible="false" rotation="-45 17.73304375929898 0" 
                  event-manager-sound
                  animation__enterpin="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: enterpin; dur: 300;"
         animation__exitpin="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: exitpin; dur: 800;"
        >
          
        <a-entity id="playSound" button=""  position="-0.06 0.0 -0.01"  pressable="">
          
          <a-entity id="iconBtnSound" mixin="btn" rotation="90 0 0" position="0.0 -0.011 0.0" material="src: #playBtn">
        </a-entity >
        
          </a-entity>
        
        <a-entity id="repeatSound" button="" position="0.06 0.0 -0.01"  pressable="">
          
          <a-entity  mixin="btn" rotation="90 0 0" position="0.0 -0.011 0.0" material="src: #repeatBtn">
        </a-entity >
          
          </a-entity>
       </a-entity>
        
        <a-entity id="SoundZone" rotation="90 0 0" position="0 -0.09 0"
                  geometry="primitive: ring; radiusInner: 0.9; radiusOuter: 1"
          material="side: double; color: #E3E3E3;"
                  
                  animation__entercolor="property: components.material.material.color; type: color; to: #282828; startEvents: entercolor; dur: 500" 
                 animation__exitcolor="property: components.material.material.color; type: color; to: #E3E3E3; startEvents: exitcolor; dur: 500"
                  
                  ></a-entity>
        
        <a-entity
                  id="pinPoiSound"
         mixin="Pin"
        material="transparent: true; opacity: 1.0;  src: #pinImage;"
        position="0 1.1 0"
        
        scale="3 3 3"  
         
         animation__enterpin="property: material.opacity; type: opacity; from: 1; to: 0; startEvents: enterpin; dur: 300;"
         animation__exitpin="property: material.opacity; type: opacity; from: 0; to: 1; startEvents: exitpin; dur: 800;"
                  ></a-entity>
        <a-entity
          
          id="holotestSound"
          poisound
          class="zone"
          
          
          material="opacity: 0.0; alpha-test: 0.5;"
          rotation="0 0 0"
          geometry=" color: red; primitive: cylinder; height: 3; radius: 0.8 "
                  
        >
          <a-entity id="SoundOpenS" sound="src: #soundOpen; autoplay: false; volume: 0.1;"></a-entity>
          <a-entity id="SoundCloseS" sound="src: #soundClose; autoplay: false; volume: 0.1;"></a-entity>
        
        
        
        
        </a-entity>
        
        
        
        
        
        
        <a-entity id="SoundClick" sound="src: #clickBtn; autoplay: false;"></a-entity>
        
        <a-entity id="Sound" sound="src: #water; autoplay: false; volume: 15.0;"></a-entity>
        
        
        
        
        
      </a-entity>
      
      
      
      
      
      
      

      <a-plane
        hide-on-enter-ar
        color="green"
        height="100"
        width="100"
        rotation="-90 0 0"
      ></a-plane>
      <a-sky hide-on-enter-ar color="skyblue"></a-sky>
      <a-entity hand-tracking-controls="hand: left; ">
        <a-sphere
                  color="red" 
                  radius="0.1"
                  ></a-sphere>
      </a-entity>
      <a-entity hand-tracking-controls="hand: right; ">
      
      </a-entity>
      
      
      
      
      

      
    </a-scene>
  </body>
</html>
